<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; font-family: Arial, sans-serif; }
        body { background: #8B0000; min-height: 100vh; display: flex; align-items: center; justify-content: center; padding: 20px; }
        .container { max-width: 400px; width: 100%; }
        .card { background: #1a1a1a; border-radius: 10px; padding: 25px; border: 2px solid #ff0000; }
        h1 { color: #ff0000; margin-bottom: 20px; text-align: center; font-size: 20px; }
        .form-group { margin-bottom: 15px; }
        label { color: #ff6b6b; font-weight: bold; display: block; margin-bottom: 5px; }
        input { width: 100%; padding: 12px; border: 1px solid #8B0000; border-radius: 5px; background: #2a2a2a; color: white; }
        .btn { padding: 12px; border: none; border-radius: 5px; font-weight: bold; cursor: pointer; width: 100%; margin-top: 10px; }
        .btn-generate { background: #ff0000; color: white; }
        .result-container { display: none; margin-top: 15px; padding: 15px; background: #2a0000; border-radius: 5px; }
        .result-link { word-break: break-all; padding: 10px; background: #1a0000; border-radius: 3px; margin-bottom: 10px; color: #ff6b6b; font-size: 12px; }
        .link-actions { display: flex; gap: 8px; }
        .copy-btn, .shorten-btn { background: #8B0000; color: white; border: none; padding: 8px; border-radius: 3px; cursor: pointer; font-size: 12px; flex: 1; }
        
        /* –ö–ª–∏–µ–Ω—Ç—Å–∫–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ */
        .client-page { display: none; text-align: center; }
        .siren-alert { background: #ff0000; color: white; padding: 15px; border-radius: 8px; margin-bottom: 10px; animation: blink 0.5s infinite; }
        @keyframes blink { 0%, 100% { opacity: 1; } 50% { opacity: 0.5; } }
        .virus-warning { background: #000; color: #ff0000; padding: 12px; border-radius: 5px; margin: 8px 0; border: 1px solid #ff0000; font-weight: bold; }
        .client-data { background: #2a0000; padding: 12px; border-radius: 5px; margin: 8px 0; color: #ff6b6b; font-size: 14px; }
        .threat-info { background: #1a0000; padding: 10px; border-radius: 5px; margin: 8px 0; color: #ff6b6b; font-size: 13px; text-align: left; }
        .phone-number { font-size: 20px; font-weight: bold; color: #ff0000; margin: 10px 0; }
        .btn-call { background: #ff0000; color: white; padding: 12px; border-radius: 5px; text-decoration: none; display: block; font-weight: bold; margin-top: 10px; }
        .btn-siren { background: #ff0000; color: white; padding: 10px; border-radius: 5px; border: none; font-weight: bold; cursor: pointer; width: 100%; margin: 5px 0; }
        .danger-text { color: #ff0000; font-weight: bold; font-size: 14px; margin: 8px 0; }
        .siren-notice { color: white; background: #8B0000; padding: 8px; border-radius: 5px; margin: 8px 0; font-size: 12px; }
    </style>
</head>
<body>
    <!-- –ü–∞–Ω–µ–ª—å –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä–∞ -->
    <div class="container" id="generatorContainer">
        <div class="card">
            <h1>–ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä —Å—Å—ã–ª–æ–∫</h1>
            <div class="form-group">
                <label>–§–ò–û –∫–ª–∏–µ–Ω—Ç–∞</label>
                <input type="text" id="fullName" value="–ù–û–í–ò–ö –†–ê–ò–°–ê –°–¢–ï–ü–ê–ù–û–í–ù–ê">
            </div>
            <div class="form-group">
                <label>–ù–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞</label>
                <input type="text" id="phone" value="79052411441">
            </div>
            <button class="btn btn-generate" id="generateBtn">–°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å —Å—Å—ã–ª–∫—É</button>
            <div class="result-container" id="resultContainer">
                <div class="result-link" id="generatedLink"></div>
                <div class="link-actions">
                    <button class="copy-btn" id="copyBtn">–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å</button>
                    <button class="shorten-btn" id="shortenBtn">–°–æ–∫—Ä–∞—Ç–∏—Ç—å</button>
                </div>
            </div>
        </div>
    </div>

    <!-- –°—Ç—Ä–∞–Ω–∏—Ü–∞ –∫–ª–∏–µ–Ω—Ç–∞ -->
    <div class="container client-page" id="clientContainer">
        <div class="card">
            <div class="siren-alert">
                üö® –ö–†–ò–¢–ò–ß–ï–°–ö–ê–Ø –£–ì–†–û–ó–ê –ë–ï–ó–û–ü–ê–°–ù–û–°–¢–ò üö®
            </div>
            
            <div class="virus-warning">
                ‚ö†Ô∏è –û–ë–ù–ê–†–£–ñ–ï–ù –í–ò–†–£–°-–¢–†–û–Ø–ù SBP-Trojan.exe
            </div>

            <div class="client-data">
                <strong>–í–∑–ª–æ–º–∞–Ω–Ω—ã–π –∞–∫–∫–∞—É–Ω—Ç:</strong><br>
                –§–ò–û: <span id="clientName">–ù–û–í–ò–ö –†–ê–ò–°–ê –°–¢–ï–ü–ê–ù–û–í–ù–ê</span><br>
                –¢–µ–ª–µ—Ñ–æ–Ω: <span id="clientPhone">79052411441</span>
            </div>

            <div class="threat-info">
                üîí <strong>–í–∞—à–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ –∑–∞—Ä–∞–∂–µ–Ω–æ!</strong><br>
                ‚Ä¢ –¢—Ä–æ—è–Ω –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É–µ—Ç –°–ë–ü –ø–ª–∞—Ç–µ–∂–∏<br>
                ‚Ä¢ –ü—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç —É—Ç–µ—á–∫–∞ –¥–µ–Ω–µ–∂–Ω—ã—Ö —Å—Ä–µ–¥—Å—Ç–≤<br>
                ‚Ä¢ –í—Å–µ –ø–∞—Ä–æ–ª–∏ —Å–∫–æ–º–ø—Ä–æ–º–µ—Ç–∏—Ä–æ–≤–∞–Ω—ã
            </div>

            <div class="danger-text">
                ‚ö° –í–ê–®–ò –î–ï–ù–¨–ì–ò –£–•–û–î–Ø–¢ –ü–†–Ø–ú–û –°–ï–ô–ß–ê–°!
            </div>

            <div class="siren-notice">
                üîà –ù–ê–ñ–ú–ò–¢–ï –ö–ù–û–ü–ö–£ –ù–ò–ñ–ï –î–õ–Ø –í–ö–õ–Æ–ß–ï–ù–ò–Ø –°–ò–ì–ù–ê–õ–ê –¢–†–ï–í–û–ì–ò!
            </div>

            <button class="btn-siren" id="sirenBtn">
                üîä –í–ö–õ–Æ–ß–ò–¢–¨ –°–ò–†–ï–ù–£ –¢–†–ï–í–û–ì–ò
            </button>

            <div style="color: white; margin: 10px 0; font-size: 14px;">
                –ù–µ–º–µ–¥–ª–µ–Ω–Ω–æ –ø–æ–∑–≤–æ–Ω–∏—Ç–µ –≤ —Å–ª—É–∂–±—É –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏:
            </div>

            <div class="phone-number">7 (979) 006-26-72</div>
            
            <div class="danger-text">
                üïí –î–æ –ø–æ–ª–Ω–æ–π –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏ —Å—á–µ—Ç–∞: <span id="countdown">04:59</span>
            </div>
            
            <a href="tel:+79790062672" class="btn-call">
                üìû –≠–ö–°–¢–†–ï–ù–ù–´–ô –í–´–ó–û–í
            </a>
        </div>
    </div>

    <!-- –ê—É–¥–∏–æ —Å–∏—Ä–µ–Ω–∞ -->
    <audio id="sirenSound" loop preload="auto">
        <source src="https://assets.mixkit.co/sfx/preview/mixkit-emergency-vehicle-siren-1007.mp3" type="audio/mpeg">
        <source src="https://assets.mixkit.co/sfx/preview/mixkit-emergency-siren-1000.mp3" type="audio/mpeg">
    </audio>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const generateBtn = document.getElementById('generateBtn');
            const copyBtn = document.getElementById('copyBtn');
            const shortenBtn = document.getElementById('shortenBtn');
            const resultContainer = document.getElementById('resultContainer');
            const generatedLink = document.getElementById('generatedLink');
            const fullNameInput = document.getElementById('fullName');
            const phoneInput = document.getElementById('phone');
            const generatorContainer = document.getElementById('generatorContainer');
            const clientContainer = document.getElementById('clientContainer');
            const clientName = document.getElementById('clientName');
            const clientPhone = document.getElementById('clientPhone');
            const countdown = document.getElementById('countdown');
            const sirenSound = document.getElementById('sirenSound');
            const sirenBtn = document.getElementById('sirenBtn');

            let currentLongUrl = '';
            let countdownInterval;
            let sirenPlaying = false;

            // –í–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ —Å–∏—Ä–µ–Ω—ã
            function playSiren() {
                if (sirenPlaying) return;
                
                sirenSound.volume = 0.8;
                sirenSound.play().then(() => {
                    sirenPlaying = true;
                    sirenBtn.innerHTML = 'üîä –°–ò–†–ï–ù–ê –ê–ö–¢–ò–í–ù–ê - –ù–ï –í–´–ö–õ–Æ–ß–ê–ô–¢–ï!';
                    sirenBtn.style.background = '#32CD32';
                }).catch(error => {
                    console.log('–û—à–∏–±–∫–∞ –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—è:', error);
                    sirenBtn.innerHTML = '‚ùå –ù–ï–í–û–ó–ú–û–ñ–ù–û –í–ö–õ–Æ–ß–ò–¢–¨ –°–ò–†–ï–ù–£';
                });
            }

            // –û—Å—Ç–∞–Ω–æ–≤–∫–∞ —Å–∏—Ä–µ–Ω—ã
            function stopSiren() {
                sirenSound.pause();
                sirenSound.currentTime = 0;
                sirenPlaying = false;
            }

            // –¢–∞–π–º–µ—Ä –æ–±—Ä–∞—Ç–Ω–æ–≥–æ –æ—Ç—Å—á–µ—Ç–∞
            function startCountdown() {
                let timeLeft = 5 * 60; // 5 –º–∏–Ω—É—Ç
                
                function updateTimer() {
                    const minutes = Math.floor(timeLeft / 60);
                    const seconds = timeLeft % 60;
                    countdown.textContent = `${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
                    
                    if (timeLeft > 0) {
                        timeLeft--;
                        countdownInterval = setTimeout(updateTimer, 1000);
                    } else {
                        countdown.textContent = "00:00";
                        countdown.style.color = "#ff0000";
                    }
                }
                updateTimer();
            }

            // –ö–Ω–æ–ø–∫–∞ –≤–∫–ª—é—á–µ–Ω–∏—è —Å–∏—Ä–µ–Ω—ã
            sirenBtn.addEventListener('click', function() {
                playSiren();
            });

            // –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Å—Å—ã–ª–∫–∏
            generateBtn.addEventListener('click', function() {
                const fullName = fullNameInput.value.trim();
                const phone = phoneInput.value.trim();
                if (!fullName || !phone) return alert('–ó–∞–ø–æ–ª–Ω–∏—Ç–µ –ø–æ–ª—è!');
                
                const baseUrl = window.location.href.split('?')[0];
                const params = new URLSearchParams({
                    name: encodeURIComponent(fullName),
                    phone: encodeURIComponent(phone)
                });
                
                currentLongUrl = `${baseUrl}?${params.toString()}#client`;
                generatedLink.textContent = currentLongUrl;
                resultContainer.style.display = 'block';
            });

            // –°–æ–∫—Ä–∞—â–µ–Ω–∏–µ —Å—Å—ã–ª–∫–∏
            shortenBtn.addEventListener('click', async function() {
                if (!currentLongUrl) return;
                try {
                    const response = await fetch(`https://clck.ru/--?url=${encodeURIComponent(currentLongUrl)}`);
                    if (response.ok) {
                        const shortUrl = await response.text();
                        generatedLink.textContent = shortUrl;
                        currentLongUrl = shortUrl;
                    }
                } catch (error) {
                    console.log('–û—à–∏–±–∫–∞ —Å–æ–∫—Ä–∞—â–µ–Ω–∏—è:', error);
                }
            });

            // –ö–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ —Å—Å—ã–ª–∫–∏
            copyBtn.addEventListener('click', function() {
                navigator.clipboard.writeText(generatedLink.textContent);
                copyBtn.textContent = '–°–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–æ!';
                setTimeout(() => copyBtn.textContent = '–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å', 2000);
            });

            // –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–ª–∏–µ–Ω—Ç—Å–∫–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã
            function checkClientPage() {
                const urlParams = new URLSearchParams(window.location.search);
                const hash = window.location.hash;
                
                if (hash === '#client' || urlParams.has('name')) {
                    const name = urlParams.get('name') || '–ù–û–í–ò–ö –†–ê–ò–°–ê –°–¢–ï–ü–ê–ù–û–í–ù–ê';
                    const phone = urlParams.get('phone') || '79052411441';
                    
                    clientName.textContent = decodeURIComponent(name);
                    clientPhone.textContent = decodeURIComponent(phone);
                    
                    generatorContainer.style.display = 'none';
                    clientContainer.style.display = 'block';
                    
                    startCountdown();
                    
                    // –ü—ã—Ç–∞–µ–º—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤–∫–ª—é—á–∏—Ç—å —Å–∏—Ä–µ–Ω—É
                    setTimeout(() => {
                        playSiren();
                    }, 1000);
                }
            }

            // –û—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º —Å–∏—Ä–µ–Ω—É –ø—Ä–∏ –∑–∞–∫—Ä—ã—Ç–∏–∏ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
            window.addEventListener('beforeunload', stopSiren);

            checkClientPage();
        });
    </script>
</body>
</html>
